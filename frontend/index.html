<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Salary Aggregator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 2rem;
        }
        input, button {
            padding: 0.5rem;
            margin: 0.5rem 0.5rem 0.5rem 0;
        }
        .job-card {
            border: 1px solid #ccc;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div id="root">
        <h1>Job Salary Search</h1>
        <p>Search and view salary ranges for jobs</p>

        <input type="text" id="titleInput" placeholder="Enter job title...">
        <input type="text" id="locationInput" placeholder="Enter location...">
        <button onclick="searchJobs()">Search</button>

        <div id="results"></div>
    </div>
<script>
  async function searchJobs() {
    const title = document.getElementById('titleInput').value;
    const location = document.getElementById('locationInput').value;

    try {
      const response = await fetch('https://salary-aggregator.onrender.com/jobs');
      const jobs = await response.json();

      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = '';

      const filteredJobs = jobs.filter(job => {
        const jobTitle = (job[0] || '').toLowerCase();
        const jobLocation = (job[1] || '').toLowerCase();
        return jobTitle.includes(title.toLowerCase()) && jobLocation.includes(location.toLowerCase());
      });

      if (filteredJobs.length === 0) {
        resultsDiv.innerHTML = '<p>No jobs found matching your search.</p>';
        return;
      }

      filteredJobs.forEach(job => {
        const jobTitle = job[0] || 'Not Available';
        const jobLocation = job[1] || 'Not Available';
        const salaryMin = job[2] ? `$${job[2]}` : 'N/A';
        const salaryMax = job[3] ? `$${job[3]}` : 'N/A';

        const jobCard = document.createElement('div');
        jobCard.className = 'job-card';
        jobCard.innerHTML = `
          <h3>${jobTitle}</h3>
          <p><strong>Location:</strong> ${jobLocation}</p>
          <p><strong>Salary Range:</strong> ${salaryMin} - ${salaryMax}</p>
        `;
        resultsDiv.appendChild(jobCard);
      });
    } catch (error) {
      console.error('Error fetching jobs:', error);
    }
  }
</script>

    
